{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{\"/J/K\":function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.METHODS=void 0,t.METHODS={getEnvInfo:\"getEnvInfo\",sendTransactions:\"sendTransactions\",rpcCall:\"rpcCall\",getSafeInfo:\"getSafeInfo\"}},\"/Zv1\":function(e,t,s){\"use strict\";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)\"default\"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.getSDKVersion=void 0;const o=i(s(\"xmst\"));t.default=o.default,n(s(\"xmst\"),t),n(s(\"zLkO\"),t),n(s(\"/J/K\"),t),n(s(\"lsUA\"),t);var a=s(\"bWE+\");Object.defineProperty(t,\"getSDKVersion\",{enumerable:!0,get:function(){return a.getSDKVersion}})},\"0ilK\":function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.TXs=void 0;const r=s(\"/J/K\");t.TXs=class{constructor(e){this.txServiceUrl=null,this.communicator=e}async getBySafeTxHash(e){if(!this.txServiceUrl)throw new Error(\"ENV information hasn't been synced yet or there was an error during the process\");const t=new AbortController,s={method:\"GET\",signal:t.signal};setTimeout(()=>t.abort(),1e4);try{const t=await fetch(`${this.txServiceUrl}/transactions/${e}`,s);if(200!==t.status)throw new Error(\"Failed to get the transaction. Either safeTxHash is incorrect or transaction hasn't been indexed by the service yet\");return await t.json()}catch(r){throw r}}async send({txs:e,params:t}){if(!e||!e.length)throw new Error(\"No transactions were passed\");const s={txs:e,params:t},n=await this.communicator.send(r.METHODS.sendTransactions,s);if(!n.success)throw new Error(n.error);return n.data}setTxServiceUrl(e){this.txServiceUrl=e}}},E9UQ:function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.generateRequestId=void 0;const r=e=>e.toString(16).padStart(2,\"0\");t.generateRequestId=()=>\"undefined\"!=typeof window?(e=>{const t=new Uint8Array(5);return window.crypto.getRandomValues(t),Array.from(t,r).join(\"\")})():(new Date).getTime().toString(36)},OuGp:function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Eth=void 0;const r=s(\"Yy5R\"),n=s(\"/J/K\"),i={defaultBlockParam:(e=\"latest\")=>e,returnFullTxObjectParam:(e=!1)=>e,blockNumberToHex:e=>Number.isInteger(e)?\"0x\"+e.toString(16):e};t.Eth=class{constructor(e){this.communicator=e,this.call=this.buildRequest({call:r.RPC_CALLS.eth_call,formatters:[null,i.defaultBlockParam]}),this.getBalance=this.buildRequest({call:r.RPC_CALLS.eth_getBalance,formatters:[null,i.defaultBlockParam]}),this.getCode=this.buildRequest({call:r.RPC_CALLS.eth_getCode,formatters:[null,i.defaultBlockParam]}),this.getStorageAt=this.buildRequest({call:r.RPC_CALLS.eth_getStorageAt,formatters:[null,i.blockNumberToHex,i.defaultBlockParam]}),this.getPastLogs=this.buildRequest({call:r.RPC_CALLS.eth_getLogs}),this.getBlockByHash=this.buildRequest({call:r.RPC_CALLS.eth_getBlockByHash,formatters:[null,i.returnFullTxObjectParam]}),this.getBlockByNumber=this.buildRequest({call:r.RPC_CALLS.eth_getBlockByNumber,formatters:[i.blockNumberToHex,i.returnFullTxObjectParam]}),this.getTransactionByHash=this.buildRequest({call:r.RPC_CALLS.eth_getTransactionByHash}),this.getTransactionReceipt=this.buildRequest({call:r.RPC_CALLS.eth_getTransactionReceipt})}buildRequest({call:e,formatters:t}){return async s=>{t&&Array.isArray(s)&&t.forEach((e,t)=>{e&&(s[t]=e(s[t]))});const r={call:e,params:s},i=await this.communicator.send(n.METHODS.rpcCall,r);if(!i.success)throw new Error(i.error);return i.data}}}},Wtvj:function(e,t,s){\"use strict\";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)\"default\"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,\"__esModule\",{value:!0});const i=s(\"lsUA\");t.default=class{constructor(e=null,t=!1){this.allowedOrigins=null,this.callbacks=new Map,this.debugMode=!1,this.isValidMessage=({origin:e,data:t,source:s})=>{const r=!t,n=s===window.parent,i=(void 0!==t.version&&parseInt(t.version.split(\".\")[0]))>=1;let o=!0;return Array.isArray(this.allowedOrigins)&&(o=void 0!==this.allowedOrigins.find(t=>t.test(e))),!r&&n&&i&&o},this.logIncomingMessage=e=>{console.info(`Safe Apps SDK v1: A message was received from origin ${e.origin}. `,e.data)},this.onParentMessage=e=>{this.isValidMessage(e)&&(this.debugMode&&this.logIncomingMessage(e),this.handleIncomingMessage(e.data))},this.handleIncomingMessage=e=>{const{id:t}=e,s=this.callbacks.get(t);s&&(s(e),this.callbacks.delete(t))},this.send=(e,t)=>{const s=i.MessageFormatter.makeRequest(e,t);if(\"undefined\"==typeof window)throw new Error(\"Window doesn't exist\");return window.parent.postMessage(s,\"*\"),new Promise(e=>{this.callbacks.set(s.id,t=>{e(t)})})},this.allowedOrigins=e,this.debugMode=t,window.addEventListener(\"message\",this.onParentMessage)}},n(s(\"/J/K\"),t)},Yy5R:function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.RPC_CALLS=void 0,t.RPC_CALLS={eth_call:\"eth_call\",eth_getLogs:\"eth_getLogs\",eth_getBalance:\"eth_getBalance\",eth_getCode:\"eth_getCode\",eth_getBlockByHash:\"eth_getBlockByHash\",eth_getBlockByNumber:\"eth_getBlockByNumber\",eth_getStorageAt:\"eth_getStorageAt\",eth_getTransactionByHash:\"eth_getTransactionByHash\",eth_getTransactionReceipt:\"eth_getTransactionReceipt\"}},\"bWE+\":function(e,t,s){\"use strict\";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.getSDKVersion=void 0;const n=r(s(\"igqm\"));t.getSDKVersion=()=>n.default.version.slice(0,5)},igqm:function(e){e.exports=JSON.parse('{\"name\":\"@gnosis.pm/safe-apps-sdk\",\"version\":\"3.0.0\",\"description\":\"SDK developed to integrate third-party apps with Safe-Multisig app.\",\"main\":\"dist/src/index.js\",\"typings\":\"dist/src/index.d.ts\",\"_files\":[\"dist/**/*\",\"README.md\"],\"keywords\":[\"Gnosis\",\"sdk\",\"apps\"],\"scripts\":{\"test\":\"jest\",\"format-dist\":\"sed -i \\'\\' \\'s/\\\\\"files\\\\\":/\\\\\"_files\\\\\":/\\' dist/package.json\",\"build\":\"yarn rimraf dist && tsc && yarn format-dist\",\"format\":\"prettier --write \\\\\"src/**/*.ts\\\\\"\",\"lint\":\"tslint -p tsconfig.json\",\"prepublishOnly\":\"yarn build\"},\"author\":\"Gnosis (https://gnosis.io)\",\"license\":\"MIT\",\"dependencies\":{},\"devDependencies\":{\"@types/jest\":\"^26.0.23\",\"@types/node\":\"^15.3.0\",\"husky\":\"^6.0.0\",\"lint-staged\":\"^11.0.0\",\"prettier\":\"^2.2.1\",\"rimraf\":\"^3.0.2\"},\"husky\":{\"hooks\":{\"pre-commit\":\"lint-staged\"}},\"lint-staged\":{\"src/**/!(*test).ts\":[\"yarn lint\",\"prettier --write\"]},\"repository\":{\"type\":\"git\",\"url\":\"git+https://github.com/gnosis/safe-apps-sdk.git\"},\"bugs\":{\"url\":\"https://github.com/gnosis/safe-apps-sdk/issues\"},\"homepage\":\"https://github.com/gnosis/safe-apps-sdk#readme\"}')},lsUA:function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.MessageFormatter=void 0;const r=s(\"E9UQ\"),n=s(\"bWE+\");class i{}t.MessageFormatter=i,i.makeRequest=(e,t)=>({id:r.generateRequestId(),method:e,params:t,env:{sdkVersion:n.getSDKVersion()}}),i.makeResponse=(e,t,s)=>({id:e,success:!0,version:s,data:t}),i.makeErrorResponse=(e,t,s)=>({id:e,success:!1,error:t,version:s})},xmst:function(e,t,s){\"use strict\";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});const n=s(\"Wtvj\"),i=r(s(\"Wtvj\")),o=s(\"0ilK\"),a=s(\"OuGp\");t.default=class{constructor(e={}){if(\"undefined\"==typeof window)throw new Error(\"Error initializing the sdk: window is undefined\");const{whitelistedDomains:t=null,debug:s=!1}=e;this.communicator=new i.default(t,s),this.eth=new a.Eth(this.communicator),this.txs=new o.TXs(this.communicator),this.bootstrap()}async bootstrap(){const{txServiceUrl:e}=await this.getEnvInfo();this.txs.setTxServiceUrl(e)}async getEnvInfo(){const e=await this.communicator.send(n.METHODS.getEnvInfo,void 0);if(!e.success)throw new Error(e.error);return e.data}async getSafeInfo(){const e=await this.communicator.send(n.METHODS.getSafeInfo,void 0);if(!e.success)throw new Error(e.error);return e.data}}},zLkO:function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SettingsChangeMethods=t.TransferMethods=t.Operation=void 0,s(\"/J/K\"),t.Operation=function(e){return e[e.CALL=0]=\"CALL\",e[e.DELEGATE_CALL=1]=\"DELEGATE_CALL\",e[e.CREATE=2]=\"CREATE\",e}(t.Operation||{}),t.TransferMethods=function(e){return e.TRANSFER=\"transfer\",e.TRANSFER_FROM=\"transferFrom\",e.SAFE_TRANSFER_FROM=\"safeTransferFrom\",e}(t.TransferMethods||{}),t.SettingsChangeMethods=function(e){return e.SETUP=\"setup\",e.SET_FALLBACK_HANDLER=\"setFallbackHandler\",e.ADD_OWNER_WITH_THRESHOLD=\"addOwnerWithThreshold\",e.REMOVE_OWNER=\"removeOwner\",e.REMOVE_OWNER_WITH_THRESHOLD=\"removeOwnerWithThreshold\",e.SWAP_OWNER=\"swapOwner\",e.CHANGE_THRESHOLD=\"changeThreshold\",e.CHANGE_MASTER_COPY=\"changeMasterCopy\",e.ENABLE_MODULE=\"enableModule\",e.DISABLE_MODULE=\"disableModule\",e.EXEC_TRANSACTION_FROM_MODULE=\"execTransactionFromModule\",e.APPROVE_HASH=\"approveHash\",e.EXEC_TRANSACTION=\"execTransaction\",e}(t.SettingsChangeMethods||{})}}]);","name":"21.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[21],{\n\n/***/ \"/J/K\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.METHODS = void 0;\nexports.METHODS = {\n    getEnvInfo: 'getEnvInfo',\n    sendTransactions: 'sendTransactions',\n    rpcCall: 'rpcCall',\n    getSafeInfo: 'getSafeInfo',\n};\n//# sourceMappingURL=methods.js.map\n\n/***/ }),\n\n/***/ \"/Zv1\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSDKVersion = void 0;\nconst sdk_1 = __importDefault(__webpack_require__(\"xmst\"));\nexports.default = sdk_1.default;\n__exportStar(__webpack_require__(\"xmst\"), exports);\n__exportStar(__webpack_require__(\"zLkO\"), exports);\n__exportStar(__webpack_require__(\"/J/K\"), exports);\n__exportStar(__webpack_require__(\"lsUA\"), exports);\nvar utils_1 = __webpack_require__(\"bWE+\");\nObject.defineProperty(exports, \"getSDKVersion\", { enumerable: true, get: function () { return utils_1.getSDKVersion; } });\n//# sourceMappingURL=index.js.map\n\n/***/ }),\n\n/***/ \"0ilK\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TXs = void 0;\nconst methods_1 = __webpack_require__(\"/J/K\");\nclass TXs {\n    constructor(communicator) {\n        this.txServiceUrl = null;\n        this.communicator = communicator;\n    }\n    async getBySafeTxHash(safeTxHash) {\n        if (!this.txServiceUrl) {\n            throw new Error(\"ENV information hasn't been synced yet or there was an error during the process\");\n        }\n        const controller = new AbortController();\n        const options = {\n            method: 'GET',\n            signal: controller.signal,\n        };\n        setTimeout(() => controller.abort(), 10000);\n        try {\n            const res = await fetch(`${this.txServiceUrl}/transactions/${safeTxHash}`, options);\n            if (res.status !== 200) {\n                throw new Error(\"Failed to get the transaction. Either safeTxHash is incorrect or transaction hasn't been indexed by the service yet\");\n            }\n            const json = await res.json();\n            return json;\n        }\n        catch (err) {\n            throw err;\n        }\n    }\n    async send({ txs, params }) {\n        if (!txs || !txs.length) {\n            throw new Error('No transactions were passed');\n        }\n        const messagePayload = {\n            txs,\n            params,\n        };\n        const response = await this.communicator.send(methods_1.METHODS.sendTransactions, messagePayload);\n        if (!response.success) {\n            throw new Error(response.error);\n        }\n        return response.data;\n    }\n    setTxServiceUrl(url) {\n        this.txServiceUrl = url;\n    }\n}\nexports.TXs = TXs;\n//# sourceMappingURL=index.js.map\n\n/***/ }),\n\n/***/ \"E9UQ\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateRequestId = void 0;\n// i.e. 0-255 -> '00'-'ff'\nconst dec2hex = (dec) => dec.toString(16).padStart(2, '0');\nconst generateId = (len) => {\n    const arr = new Uint8Array((len || 40) / 2);\n    window.crypto.getRandomValues(arr);\n    return Array.from(arr, dec2hex).join('');\n};\nconst generateRequestId = () => {\n    if (typeof window !== 'undefined') {\n        return generateId(10);\n    }\n    return new Date().getTime().toString(36);\n};\nexports.generateRequestId = generateRequestId;\n//# sourceMappingURL=utils.js.map\n\n/***/ }),\n\n/***/ \"OuGp\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Eth = void 0;\nconst constants_1 = __webpack_require__(\"Yy5R\");\nconst methods_1 = __webpack_require__(\"/J/K\");\nconst inputFormatters = {\n    defaultBlockParam: (arg = 'latest') => arg,\n    returnFullTxObjectParam: (arg = false) => arg,\n    blockNumberToHex: (arg) => Number.isInteger(arg) ? `0x${arg.toString(16)}` : arg,\n};\nclass Eth {\n    constructor(communicator) {\n        this.communicator = communicator;\n        this.call = this.buildRequest({\n            call: constants_1.RPC_CALLS.eth_call,\n            formatters: [null, inputFormatters.defaultBlockParam],\n        });\n        this.getBalance = this.buildRequest({\n            call: constants_1.RPC_CALLS.eth_getBalance,\n            formatters: [null, inputFormatters.defaultBlockParam],\n        });\n        this.getCode = this.buildRequest({\n            call: constants_1.RPC_CALLS.eth_getCode,\n            formatters: [null, inputFormatters.defaultBlockParam],\n        });\n        this.getStorageAt = this.buildRequest({\n            call: constants_1.RPC_CALLS.eth_getStorageAt,\n            formatters: [null, inputFormatters.blockNumberToHex, inputFormatters.defaultBlockParam],\n        });\n        this.getPastLogs = this.buildRequest({\n            call: constants_1.RPC_CALLS.eth_getLogs,\n        });\n        this.getBlockByHash = this.buildRequest({\n            call: constants_1.RPC_CALLS.eth_getBlockByHash,\n            formatters: [null, inputFormatters.returnFullTxObjectParam],\n        });\n        this.getBlockByNumber = this.buildRequest({\n            call: constants_1.RPC_CALLS.eth_getBlockByNumber,\n            formatters: [inputFormatters.blockNumberToHex, inputFormatters.returnFullTxObjectParam],\n        });\n        this.getTransactionByHash = this.buildRequest({\n            call: constants_1.RPC_CALLS.eth_getTransactionByHash,\n        });\n        this.getTransactionReceipt = this.buildRequest({\n            call: constants_1.RPC_CALLS.eth_getTransactionReceipt,\n        });\n    }\n    buildRequest({ call, formatters }) {\n        return async (params) => {\n            if (formatters && Array.isArray(params)) {\n                formatters.forEach((formatter, i) => {\n                    if (formatter) {\n                        params[i] = formatter(params[i]);\n                    }\n                });\n            }\n            const payload = {\n                call,\n                params,\n            };\n            const response = await this.communicator.send(methods_1.METHODS.rpcCall, payload);\n            if (!response.success) {\n                throw new Error(response.error);\n            }\n            return response.data;\n        };\n    }\n}\nexports.Eth = Eth;\n//# sourceMappingURL=index.js.map\n\n/***/ }),\n\n/***/ \"Wtvj\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst messageFormatter_1 = __webpack_require__(\"lsUA\");\nclass PostMessageCommunicator {\n    constructor(allowedOrigins = null, debugMode = false) {\n        this.allowedOrigins = null;\n        this.callbacks = new Map();\n        this.debugMode = false;\n        this.isValidMessage = ({ origin, data, source }) => {\n            const emptyOrMalformed = !data;\n            const sentFromParentEl = source === window.parent;\n            const majorVersionNumber = typeof data.version !== 'undefined' && parseInt(data.version.split('.')[0]);\n            const allowedSDKVersion = majorVersionNumber >= 1;\n            let validOrigin = true;\n            if (Array.isArray(this.allowedOrigins)) {\n                validOrigin = this.allowedOrigins.find((regExp) => regExp.test(origin)) !== undefined;\n            }\n            return !emptyOrMalformed && sentFromParentEl && allowedSDKVersion && validOrigin;\n        };\n        this.logIncomingMessage = (msg) => {\n            console.info(`Safe Apps SDK v1: A message was received from origin ${msg.origin}. `, msg.data);\n        };\n        this.onParentMessage = (msg) => {\n            if (this.isValidMessage(msg)) {\n                this.debugMode && this.logIncomingMessage(msg);\n                this.handleIncomingMessage(msg.data);\n            }\n        };\n        this.handleIncomingMessage = (payload) => {\n            const { id } = payload;\n            const cb = this.callbacks.get(id);\n            if (cb) {\n                cb(payload);\n                this.callbacks.delete(id);\n            }\n        };\n        this.send = (method, params) => {\n            const request = messageFormatter_1.MessageFormatter.makeRequest(method, params);\n            if (typeof window === 'undefined') {\n                throw new Error(\"Window doesn't exist\");\n            }\n            window.parent.postMessage(request, '*');\n            return new Promise((resolve) => {\n                this.callbacks.set(request.id, (response) => {\n                    resolve(response);\n                });\n            });\n        };\n        this.allowedOrigins = allowedOrigins;\n        this.debugMode = debugMode;\n        window.addEventListener('message', this.onParentMessage);\n    }\n}\nexports.default = PostMessageCommunicator;\n__exportStar(__webpack_require__(\"/J/K\"), exports);\n//# sourceMappingURL=index.js.map\n\n/***/ }),\n\n/***/ \"Yy5R\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RPC_CALLS = void 0;\nexports.RPC_CALLS = {\n    eth_call: 'eth_call',\n    eth_getLogs: 'eth_getLogs',\n    eth_getBalance: 'eth_getBalance',\n    eth_getCode: 'eth_getCode',\n    eth_getBlockByHash: 'eth_getBlockByHash',\n    eth_getBlockByNumber: 'eth_getBlockByNumber',\n    eth_getStorageAt: 'eth_getStorageAt',\n    eth_getTransactionByHash: 'eth_getTransactionByHash',\n    eth_getTransactionReceipt: 'eth_getTransactionReceipt',\n};\n//# sourceMappingURL=constants.js.map\n\n/***/ }),\n\n/***/ \"bWE+\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSDKVersion = void 0;\nconst package_json_1 = __importDefault(__webpack_require__(\"igqm\"));\n// console.log({ pkg });\n// Slice is needed for versions like '1.0.0-beta.0'\nconst getSDKVersion = () => package_json_1.default.version.slice(0, 5);\nexports.getSDKVersion = getSDKVersion;\n//# sourceMappingURL=utils.js.map\n\n/***/ }),\n\n/***/ \"igqm\":\n/***/ (function(module) {\n\nmodule.exports = JSON.parse(\"{\\\"name\\\":\\\"@gnosis.pm/safe-apps-sdk\\\",\\\"version\\\":\\\"3.0.0\\\",\\\"description\\\":\\\"SDK developed to integrate third-party apps with Safe-Multisig app.\\\",\\\"main\\\":\\\"dist/src/index.js\\\",\\\"typings\\\":\\\"dist/src/index.d.ts\\\",\\\"_files\\\":[\\\"dist/**/*\\\",\\\"README.md\\\"],\\\"keywords\\\":[\\\"Gnosis\\\",\\\"sdk\\\",\\\"apps\\\"],\\\"scripts\\\":{\\\"test\\\":\\\"jest\\\",\\\"format-dist\\\":\\\"sed -i '' 's/\\\\\\\"files\\\\\\\":/\\\\\\\"_files\\\\\\\":/' dist/package.json\\\",\\\"build\\\":\\\"yarn rimraf dist && tsc && yarn format-dist\\\",\\\"format\\\":\\\"prettier --write \\\\\\\"src/**/*.ts\\\\\\\"\\\",\\\"lint\\\":\\\"tslint -p tsconfig.json\\\",\\\"prepublishOnly\\\":\\\"yarn build\\\"},\\\"author\\\":\\\"Gnosis (https://gnosis.io)\\\",\\\"license\\\":\\\"MIT\\\",\\\"dependencies\\\":{},\\\"devDependencies\\\":{\\\"@types/jest\\\":\\\"^26.0.23\\\",\\\"@types/node\\\":\\\"^15.3.0\\\",\\\"husky\\\":\\\"^6.0.0\\\",\\\"lint-staged\\\":\\\"^11.0.0\\\",\\\"prettier\\\":\\\"^2.2.1\\\",\\\"rimraf\\\":\\\"^3.0.2\\\"},\\\"husky\\\":{\\\"hooks\\\":{\\\"pre-commit\\\":\\\"lint-staged\\\"}},\\\"lint-staged\\\":{\\\"src/**/!(*test).ts\\\":[\\\"yarn lint\\\",\\\"prettier --write\\\"]},\\\"repository\\\":{\\\"type\\\":\\\"git\\\",\\\"url\\\":\\\"git+https://github.com/gnosis/safe-apps-sdk.git\\\"},\\\"bugs\\\":{\\\"url\\\":\\\"https://github.com/gnosis/safe-apps-sdk/issues\\\"},\\\"homepage\\\":\\\"https://github.com/gnosis/safe-apps-sdk#readme\\\"}\");\n\n/***/ }),\n\n/***/ \"lsUA\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MessageFormatter = void 0;\nconst utils_1 = __webpack_require__(\"E9UQ\");\nconst utils_2 = __webpack_require__(\"bWE+\");\nclass MessageFormatter {\n}\nexports.MessageFormatter = MessageFormatter;\nMessageFormatter.makeRequest = (method, params) => {\n    const id = utils_1.generateRequestId();\n    return {\n        id,\n        method,\n        params,\n        env: {\n            sdkVersion: utils_2.getSDKVersion(),\n        },\n    };\n};\nMessageFormatter.makeResponse = (id, data, version) => ({\n    id,\n    success: true,\n    version,\n    data,\n});\nMessageFormatter.makeErrorResponse = (id, error, version) => ({\n    id,\n    success: false,\n    error,\n    version,\n});\n//# sourceMappingURL=messageFormatter.js.map\n\n/***/ }),\n\n/***/ \"xmst\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst communication_1 = __webpack_require__(\"Wtvj\");\nconst communication_2 = __importDefault(__webpack_require__(\"Wtvj\"));\nconst txs_1 = __webpack_require__(\"0ilK\");\nconst eth_1 = __webpack_require__(\"OuGp\");\nclass SafeAppsSDK {\n    constructor(opts = {}) {\n        if (typeof window === 'undefined') {\n            throw new Error('Error initializing the sdk: window is undefined');\n        }\n        const { whitelistedDomains = null, debug = false } = opts;\n        this.communicator = new communication_2.default(whitelistedDomains, debug);\n        this.eth = new eth_1.Eth(this.communicator);\n        this.txs = new txs_1.TXs(this.communicator);\n        this.bootstrap();\n    }\n    async bootstrap() {\n        const { txServiceUrl } = await this.getEnvInfo();\n        this.txs.setTxServiceUrl(txServiceUrl);\n    }\n    async getEnvInfo() {\n        const response = await this.communicator.send(communication_1.METHODS.getEnvInfo, undefined);\n        if (!response.success) {\n            throw new Error(response.error);\n        }\n        return response.data;\n    }\n    async getSafeInfo() {\n        const response = await this.communicator.send(communication_1.METHODS.getSafeInfo, undefined);\n        if (!response.success) {\n            throw new Error(response.error);\n        }\n        return response.data;\n    }\n}\nexports.default = SafeAppsSDK;\n//# sourceMappingURL=sdk.js.map\n\n/***/ }),\n\n/***/ \"zLkO\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SettingsChangeMethods = exports.TransferMethods = exports.Operation = void 0;\nconst methods_1 = __webpack_require__(\"/J/K\");\n// copy-pasting all the types below from safe-react makes me think we might want to export them to a package\nvar Operation = exports.Operation = /*@__PURE__*/ (function (Operation) {\n    Operation[Operation[\"CALL\"] = 0] = \"CALL\";\n    Operation[Operation[\"DELEGATE_CALL\"] = 1] = \"DELEGATE_CALL\";\n    Operation[Operation[\"CREATE\"] = 2] = \"CREATE\";\n    return Operation;\n})(exports.Operation || {});\n// types comes from: https://github.com/gnosis/safe-client-gateway/blob/752e76b6d1d475791dbd7917b174bb41d2d9d8be/src/utils.rs\nvar TransferMethods = exports.TransferMethods = /*@__PURE__*/ (function (TransferMethods) {\n    TransferMethods[\"TRANSFER\"] = \"transfer\";\n    TransferMethods[\"TRANSFER_FROM\"] = \"transferFrom\";\n    TransferMethods[\"SAFE_TRANSFER_FROM\"] = \"safeTransferFrom\";\n    return TransferMethods;\n})(exports.TransferMethods || {});\nvar SettingsChangeMethods = exports.SettingsChangeMethods = /*@__PURE__*/ (function (SettingsChangeMethods) {\n    SettingsChangeMethods[\"SETUP\"] = \"setup\";\n    SettingsChangeMethods[\"SET_FALLBACK_HANDLER\"] = \"setFallbackHandler\";\n    SettingsChangeMethods[\"ADD_OWNER_WITH_THRESHOLD\"] = \"addOwnerWithThreshold\";\n    SettingsChangeMethods[\"REMOVE_OWNER\"] = \"removeOwner\";\n    SettingsChangeMethods[\"REMOVE_OWNER_WITH_THRESHOLD\"] = \"removeOwnerWithThreshold\";\n    SettingsChangeMethods[\"SWAP_OWNER\"] = \"swapOwner\";\n    SettingsChangeMethods[\"CHANGE_THRESHOLD\"] = \"changeThreshold\";\n    SettingsChangeMethods[\"CHANGE_MASTER_COPY\"] = \"changeMasterCopy\";\n    SettingsChangeMethods[\"ENABLE_MODULE\"] = \"enableModule\";\n    SettingsChangeMethods[\"DISABLE_MODULE\"] = \"disableModule\";\n    SettingsChangeMethods[\"EXEC_TRANSACTION_FROM_MODULE\"] = \"execTransactionFromModule\";\n    SettingsChangeMethods[\"APPROVE_HASH\"] = \"approveHash\";\n    SettingsChangeMethods[\"EXEC_TRANSACTION\"] = \"execTransaction\";\n    return SettingsChangeMethods;\n})(exports.SettingsChangeMethods || {});\n\n\n/***/ })\n\n}]);","inputSourceMap":null}