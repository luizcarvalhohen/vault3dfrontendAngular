{"version":3,"file":"sdk.esm.js","sources":["../src/components/BaseQRCode.tsx","../src/types.ts","../src/components/Button.tsx","../src/components/ButtonGroup.tsx","../src/hooks/useAnimatedQRCodePlayer.tsx","../src/error.ts","../src/components/LoadingSpinner.tsx","../src/hooks/useAnimatedQRCodeReader.tsx","../src/components/InitialPage.tsx","../src/hooks/useController.tsx","../src/Root.tsx","../src/service.ts"],"sourcesContent":["import React from 'react';\nimport QRCode from 'qrcode.react';\n\nexport const BaseQRCode = ({\n    size = 200,\n    data = '',\n    ecl = 'L',\n}: {\n    data: string;\n    size?: number;\n    ecl?: 'L' | 'M' | 'Q' | 'H';\n}) => {\n    return <QRCode value={data} size={size} level={ecl} />;\n};\n","import { UR } from '@ngraveio/bc-ur';\n\ntype DecodedSuccess = {\n    result: UR;\n    status: ReadStatus.success;\n};\n\ntype DecodedCanceled = {\n    status: ReadStatus.canceled;\n};\n\nexport type DecodedResult = DecodedSuccess | DecodedCanceled;\n\nexport enum ReadStatus {\n    canceled = 'canceled',\n    success = 'success',\n}\n\nexport enum PlayStatus {\n    canceled = 'canceled',\n    success = 'success',\n}\n\nexport type Play = (\n    data: UR,\n    options?: {\n        refreshSpeed?: number;\n        hasNext?: boolean;\n        title?: string;\n        description?: string;\n    },\n) => Promise<PlayStatus>;\n\nexport type Read = (\n    expect: SupportedResult[],\n    options?: {\n        title?: string;\n        description?: string;\n        renderInitial?: {\n            walletMode: string;\n            link: string;\n        };\n        URTypeErrorMessage?: string;\n    },\n) => Promise<DecodedResult>;\n\nexport enum SupportedResult {\n    UR_BYTES = 'bytes',\n    UR_CRYPTO_HDKEY = 'crypto-hdkey',\n    UR_ETH_SIGN_REQUEST = 'eth-sign-request',\n    UR_ETH_SIGNATURE = 'eth-signature',\n}\n","import React, { FunctionComponent } from 'react';\n\ntype Props = {\n    onClick: () => any;\n};\n\nconst styleBase = {\n    minWidth: '16rem',\n    height: '3rem',\n    background: '#784FFE',\n    borderColor: 'grey',\n    borderRadius: '8px',\n    borderWidth: 1,\n    color: 'white',\n    outline: 'none',\n    margin: 2,\n};\n\nexport const Button: FunctionComponent<Props> = (props) => {\n    const { onClick, children } = props;\n    return (\n        <button onClick={onClick} style={styleBase}>\n            {children}\n        </button>\n    );\n};\n","import React, { FunctionComponent } from 'react';\n\nexport const ButtonGroup: FunctionComponent = (props) => {\n    return (\n        <div\n            style={{\n                width: '100%',\n                marginTop: '1rem',\n                display: 'flex',\n                flexDirection: 'row-reverse',\n                alignItems: 'center',\n                justifyContent: 'center',\n            }}\n        >\n            {props.children}\n        </div>\n    );\n};\n","import React, { useEffect, useMemo, useState } from 'react';\nimport { interval } from 'rxjs';\nimport { BaseQRCode } from '../components/BaseQRCode';\nimport { Play, PlayStatus } from '../types';\nimport { EventEmitter } from 'events';\nimport { Button } from '../components/Button';\nimport { ButtonGroup } from '../components/ButtonGroup';\nimport { UR, UREncoder } from '@ngraveio/bc-ur';\n\nconst DEFAULT_SPEED = 100;\n\nconst DEFAULT_UR = new UR(Buffer.from('NO DATA', 'utf-8'));\n\nexport const useAnimatedQRCodePlayer = (): [JSX.Element, { play: Play }] => {\n    const [data, setData] = useState<UR>(DEFAULT_UR);\n    const [shouldShow, setShouldShow] = useState(false);\n\n    const [refreshSpeed, setRefreshSpeed] = useState(DEFAULT_SPEED);\n    const [hasNext, setHasNext] = useState(false);\n    const [title, setTitle] = useState<string | null>(null);\n    const [description, setDescription] = useState<string | null>(null);\n\n    const urEncoder = useMemo(() => new UREncoder(data), [data]);\n\n    const [qr, setQR] = useState<string>(urEncoder.nextPart());\n\n    const ee = useMemo(() => new EventEmitter(), []);\n    const reset = () => {\n        setData(DEFAULT_UR);\n        setShouldShow(false);\n        setRefreshSpeed(DEFAULT_SPEED);\n    };\n\n    useEffect(() => {\n        if (urEncoder.cbor.toString('hex') !== DEFAULT_UR.cbor.toString('hex')) {\n            setShouldShow(true);\n        }\n    }, [urEncoder]);\n\n    useEffect(() => {\n        const subscribe = interval(refreshSpeed).subscribe(() => {\n            setQR(urEncoder.nextPart());\n        });\n        return () => {\n            subscribe.unsubscribe();\n        };\n    }, [refreshSpeed, urEncoder]);\n\n    const finish = () => {\n        ee.emit('finish', true);\n    };\n\n    const element = shouldShow ? (\n        <div\n            style={{\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n            }}\n        >\n            {title && <p style={{ fontSize: '1.25rem', fontWeight: 'bold' }}>{title}</p>}\n            <BaseQRCode size={288} data={qr} />\n            {description && <p style={{ fontSize: '1rem', textAlign: 'center' }}>{description}</p>}\n            <ButtonGroup>\n                <Button onClick={finish}>{hasNext ? 'Scan Keystone' : 'Finish'}</Button>\n            </ButtonGroup>\n        </div>\n    ) : (\n        <div></div>\n    );\n\n    return [\n        element,\n        {\n            play: (data, options) => {\n                return new Promise((resolve) => {\n                    setData(data);\n                    if (options) {\n                        options.refreshSpeed && setRefreshSpeed(options.refreshSpeed);\n                        options.hasNext && setHasNext(options.hasNext);\n                        options.title && setTitle(options.title);\n                        options.description && setDescription(options.description);\n                    }\n                    ee.once('finish', () => {\n                        reset();\n                        resolve(PlayStatus.success);\n                    });\n                });\n            },\n        },\n    ];\n};\n","export class URTypeError extends Error {\n    constructor(msg: string) {\n        super(msg);\n\n        // Set the prototype explicitly.\n        Object.setPrototypeOf(this, URTypeError.prototype);\n    }\n}\n","import React from 'react';\n\nexport const LoadingSpinner = () => {\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            style={{\n                margin: 'auto',\n                display: 'block',\n                shapeRendering: 'auto',\n                animationPlayState: 'running',\n                animationDelay: '0s',\n            }}\n            width=\"200px\"\n            height=\"200px\"\n            viewBox=\"0 0 100 100\"\n            preserveAspectRatio=\"xMidYMid\"\n        >\n            <circle\n                cx=\"50\"\n                cy=\"50\"\n                fill=\"none\"\n                stroke=\"#9b9b9b\"\n                strokeWidth=\"7\"\n                r=\"35\"\n                strokeDasharray=\"164.93361431346415 56.97787143782138\"\n                style={{ animationPlayState: 'running', animationDelay: '0s' }}\n            >\n                <animateTransform\n                    attributeName=\"transform\"\n                    type=\"rotate\"\n                    repeatCount=\"indefinite\"\n                    dur=\"1s\"\n                    values=\"0 50 50;360 50 50\"\n                    keyTimes=\"0;1\"\n                    style={{ animationPlayState: 'running', animationDelay: '0s' }}\n                ></animateTransform>\n            </circle>\n        </svg>\n    );\n};\n","import React, { useMemo, useState, Suspense } from 'react';\nimport { EventEmitter } from 'events';\nimport { Button } from '../components/Button';\nimport { URTypeError } from '../error';\n\nimport { Read, SupportedResult } from '../types';\nimport { ButtonGroup } from '../components/ButtonGroup';\nimport { LoadingSpinner } from '../components/LoadingSpinner';\nimport { URDecoder } from '@ngraveio/bc-ur';\n\nconst QrReader = React.lazy(() => import('react-qr-reader'));\n\nexport interface URQRCodeData {\n    total: number;\n    index: number;\n    data: string;\n}\n\nlet URTypeErrorMessage: string = '';\n\nexport const useAnimatedQRCodeReader = (): [JSX.Element, { read: Read; cameraReady: boolean }] => {\n    const [cameraReady, setCameraReady] = useState<boolean>(false);\n    const [expectTypes, setExpectTypes] = useState<SupportedResult[]>([]);\n    const [urDecoder, setURDecoder] = useState(new URDecoder());\n    const [error, setError] = useState('');\n    const ee = useMemo(() => new EventEmitter(), []);\n    const [title, setTitle] = useState<string | null>(null);\n    const [progress, setProgress] = useState(0);\n    const [description, setDescription] = useState<string | null>(null);\n    const reset = () => {\n        setURDecoder(new URDecoder());\n        setError('');\n    };\n\n    const processQRCode = (qr: string, errorMessgeOnURType: string) => {\n        processUR(qr, errorMessgeOnURType);\n    };\n\n    const handleStop = () => {\n        ee.emit('read', {\n            status: 'canceled',\n        });\n    };\n\n    const handleRetry = () => {\n        reset();\n    };\n\n    const processUR = (ur: string, errorMessgeOnURType: string) => {\n        try {\n            if (!urDecoder.isComplete()) {\n                urDecoder.receivePart(ur);\n                setProgress(urDecoder.getProgress());\n            } else {\n                const result = urDecoder.resultUR();\n                let foundExpected = false;\n                expectTypes.forEach((et) => {\n                    if (et === result.type) {\n                        foundExpected = true;\n                        ee.emit('read', {\n                            result,\n                            status: 'success',\n                        });\n                        return;\n                    }\n                });\n                if (!foundExpected)\n                    throw new URTypeError(`received ur type ${result.type}, but expected [${expectTypes.join(',')}]`);\n            }\n        } catch (e) {\n            if (e instanceof URTypeError) {\n                setError(errorMessgeOnURType);\n            } else {\n                setError(e.message);\n            }\n        }\n    };\n\n    const element = (\n        <div\n            style={{\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n            }}\n        >\n            {title && <p style={{ fontSize: '1.25rem', fontWeight: 'bold' }}>{title}</p>}\n            {description && <p style={{ fontSize: '1rem', textAlign: 'center' }}>{description}</p>}\n            <Suspense fallback={<div />}>\n                <div style={{ position: 'relative', width: '100%' }}>\n                    {!cameraReady ? (\n                        <div\n                            style={{\n                                position: 'absolute',\n                                top: '50%',\n                                left: '50%',\n                                transform: 'translate(-50%, -50%)',\n                            }}\n                        >\n                            <LoadingSpinner />\n                        </div>\n                    ) : null}\n                    <QrReader\n                        onScan={(data: any) => {\n                            if (data) {\n                                setCameraReady(true);\n                                processQRCode(data, URTypeErrorMessage);\n                            }\n                        }}\n                        delay={100}\n                        style={{ width: '100%' }}\n                        onError={(e) => {\n                            setError(e.message);\n                        }}\n                    />\n                </div>\n            </Suspense>\n            <p>{(progress * 100).toFixed(0)} %</p>\n            {error && <p style={{ color: 'red', fontSize: '1rem' }}>{error}</p>}\n            <ButtonGroup>\n                <Button onClick={handleStop}>Close</Button>\n                {error && <Button onClick={handleRetry}>Retry</Button>}\n            </ButtonGroup>\n        </div>\n    );\n\n    return [\n        element,\n        {\n            read: (expect, options) => {\n                return new Promise((resolve) => {\n                    setExpectTypes(expect);\n                    if (options) {\n                        options.title && setTitle(options.title);\n                        options.description && setDescription(options.description);\n                        URTypeErrorMessage = options.URTypeErrorMessage ? options.URTypeErrorMessage : '';\n                    }\n                    ee.once('read', (result) => {\n                        reset();\n                        resolve(result);\n                    });\n                });\n            },\n            cameraReady,\n        },\n    ];\n};\n","import React from 'react';\nimport { Button } from './Button';\n\nexport const InitialPage = (props: { walletMode: string; link: string; onButtonClick: () => void }) => {\n    return (\n        <div style={{ paddingLeft: '1rem' }}>\n            <div style={{ display: 'flex', alignItems: 'center', padding: 0 }}>\n                <img\n                    style={{ display: 'inline-block' }}\n                    src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAoCAYAAACfKfiZAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAKAAAAACc9ikyAAAD+ElEQVRYCb1WbWiNURw/Z9caY5SyrKzVhuUtZcYoJdZ8kMywGClG+WK+eJsPmogNKfZBxBbmAyPyEgvtA8UUX9inbVeb8AGTd8t2j9/vdp91ntPzPPd57h3/+t1z/uf/ev7nnP9zhUiMsmH2BOgF9ifmIjmrVpgrDWuScxfMeqUW2EqiB2sjgrlJTDsNZmHACqyP2xJzGcyq2iU4E7kTzFVw7fEw+Qbou9bn94K7FCIlgNFh6I7y0E8oAQ9/NlEBuAig71ifv4VspM1iiJnHHsGZyPohjmdzxzeu79acsyFJm8UQMnzbfONmUIvnsRTG4g3DWAM8B24DM4GkaR88WMGcxkYtQr2h+wl8niYPPJ0Aix+AU2Cu8UlmASRe0gHA1L1JYaLUBEPToc7v1hx7XdISTc/3tAiaXs+uE3K2ZdJaQE/MnLdDzvvhm3ij2wDTkc4vj3lLx/gmji7tqmL6voYNcRze17zwv4CemNuc/xt8NSoqsau5OfoD2TSAxDb+EXDTNdeX0igeHYSCaajzfGoWZWDidU90O84XWIZuYw4EvwDT0OK527GG8VUPfcuO4wPAsVvqt/MolIYDbsSmxLPUiS+gEpgBOH1Z+7HOC90MMBFXYnn0jM35S8hDrtZJCFgBluZEHB/bIWenc6XVV1Qo/MCxCoM2ucUi0lwubX4YfBng1TKvQ1426MWY1NSolAs94jJKVoYaOh2DbqGw3ddQqutqkGcooEG5rmHM+8DvMNZs7KVuUaiUWOUjOO0k9HIjSpzOq1RRv0xgus2jnTkONhxbKsZ4A7gFlMbWRChddMLtZ4v3O0YiojZvq8rkEbwCrOai278Dkw98BxYBLYD+anaB58sREzerosiAaMExjCbvl0KpooAV6HIx2IN1Bk8FTgF6cLDiCLCTk86z8mlKSCzBbr6S90NSooumiXYm8MjBgG+3KbZehXGygw6XmAQrEU0C77TETxII3ofA6zrrZR+PIAvoBrhTEnvAPIBJZAIdQLzS8r8BkxGTNqq5AxLHocQY8iYxOIKuwCu4Sxkr8B7g5bLoIiYMTjoExAtOvTqASYiORtmmJCohxRfyBv3GeqkVnDJWgLQQaAV45iw3k5oKsAMySb9UDcVaKuduUYWiX1xDObPJI/AHDBXhBsnvwiBZCXChAuA/nWdkQLxg0bJGOf8/tDtG9fxNKqNfisX4ZKamC/Gw/Zzs9e9GiL1Q5n0ICn6A5gQJ5KY7C4Ig33s90WibdXOsr3ud7wsoshcwiaAUPfegRm76syHgBylINaIX0c1hout8FecB/i/Uy23OedvZP/4Z5cDzSeAnYAZnK54P/BcahygHAD5dNh12tilAIPoLD0OnpwCV000AAAAASUVORK5CYII=\"\n                    alt=\"\"\n                />\n                <div style={{ fontSize: '1.25rem', fontWeight: 'bold', marginLeft: '1rem' }}>Sync Keystone</div>\n            </div>\n            <ul style={{ marginTop: '2rem', listStyleType: 'none', padding: 0, fontSize: '1rem' }}>\n                <li style={{ marginBottom: '0.75rem' }}>1. Turn on your Keystone hardware device</li>\n                <li\n                    style={{ marginBottom: '0.75rem' }}\n                >{`2. Select your \"${props.walletMode}\" as your Watch-only wallet(Companion App)`}</li>\n                <li style={{ marginBottom: '0.75rem' }}>\n                    {' '}\n                    3. Press the \"Scan Keystone\" button and scan the QR Code displayed on your Keystone hardware wallet\n                </li>\n                <li style={{ marginBottom: '0.75rem' }}> 4. Select account and check your watch-only wallet</li>\n            </ul>\n            <div style={{ marginBottom: '1rem' }}>\n                <a\n                    style={{ marginTop: '1.25rem', color: '#784FFE', textDecoration: 'none' }}\n                    href={props.link}\n                    target=\"_blank\"\n                >\n                    Click here to view detailed tutorial\n                </a>\n            </div>\n            <Button onClick={props.onButtonClick}>Sync Keystone</Button>\n        </div>\n    );\n};\n","import React, { useMemo, useState } from 'react';\nimport Modal from 'react-modal';\nimport { EventEmitter } from 'events';\nimport { useAnimatedQRCodePlayer } from './useAnimatedQRCodePlayer';\nimport { useAnimatedQRCodeReader } from './useAnimatedQRCodeReader';\nimport { Play, PlayStatus, Read } from '../types';\nimport { InitialPage } from '../components/InitialPage';\n\nconst customStyles = {\n    overlay: {\n        zIndex: 999,\n    },\n    content: {\n        top: '50%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        borderRadius: '10px',\n        width: '37rem',\n        marginRight: '-50%',\n        transform: 'translate(-50%, -50%)',\n        postion: 'relative',\n    },\n};\n\nexport const useController = (): [\n    JSX.Element,\n    {\n        play: Play;\n        read: Read;\n        cameraReady: boolean;\n    },\n] => {\n    const ee = useMemo(() => new EventEmitter(), []);\n    const [visible, setVisible] = useState(false);\n    const [walletMode, setWalltMode] = useState('');\n    const [link, setLink] = useState('');\n    const [mode, setMode] = useState<'read' | 'play' | 'initial' | null>(null);\n    const [AnimatedQRCodePlayer, { play }] = useAnimatedQRCodePlayer();\n    const [AnimatedQRCodeReader, { read, cameraReady }] = useAnimatedQRCodeReader();\n    const close = () => {\n        ee.emit('close');\n        reset();\n    };\n\n    const reset = () => {\n        setMode(null);\n        setLink('');\n        setWalltMode('');\n        setVisible(false);\n    };\n\n    const goToRead = () => {\n        setMode('read');\n    };\n\n    const renderPannel = (pageMode: string) => {\n        if (pageMode === 'initial') {\n            return <InitialPage walletMode={walletMode} link={link} onButtonClick={goToRead} />;\n        } else if (pageMode === 'read') {\n            return AnimatedQRCodeReader;\n        } else if (pageMode === 'play') {\n            return AnimatedQRCodePlayer;\n        } else {\n            return null;\n        }\n    };\n\n    const element = (\n        <Modal isOpen={visible} style={customStyles}>\n            <div onClick={close}>\n                <img\n                    style={{ position: 'absolute', top: '1rem', right: '1rem' }}\n                    src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAADKADAAQAAAABAAAADAAAAAATDPpdAAAAmklEQVQoFZWRwQ3DIAwAa4brJPBP80hnaD/lD5N0iYxEfRVBxBGRwsvgO2PZklJaReTrvX/eTk7O+VVKuTtgDRYVPyOeHAysAFV40jCGEB69aHN/YSRZGK4JVuKu5/DrToDoqnI9tOh4vXJ2Qlc96kSY2lTfWs0m9DCT0r3MSkUrXR9r3eBCNbuDrY/td23z7Vg3wQhGIgcD+wPGY2fPvHuWagAAAABJRU5ErkJggg==\"\n                />\n            </div>\n            <div\n                style={{\n                    width: '35rem',\n                    padding: 18,\n                    flex: 1,\n                    flexDirection: 'column',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    color: '#002237',\n                }}\n            >\n                {renderPannel(mode)}\n            </div>\n        </Modal>\n    );\n    return [\n        element,\n        {\n            play: (data, options) => {\n                return new Promise<PlayStatus>(async (resolve) => {\n                    ee.once('close', () => {\n                        resolve(PlayStatus.canceled);\n                    });\n                    setVisible(true);\n                    setMode('play');\n                    await play(data, options);\n                    reset();\n                    resolve(PlayStatus.success);\n                });\n            },\n            read: async (expect, options) => {\n                if (options.renderInitial) {\n                    setWalltMode(options.renderInitial.walletMode);\n                    setLink(options.renderInitial.link);\n                    setMode('initial');\n                    setVisible(true);\n                    const result = await read(expect, options);\n                    reset();\n                    return result;\n                } else {\n                    setMode('read');\n                    setVisible(true);\n                    const result = await read(expect, options);\n                    reset();\n                    return result;\n                }\n            },\n            cameraReady,\n        },\n    ];\n};\n","import { setupSdk } from './service';\nimport { useController } from './hooks/useController';\n\nexport default () => {\n    const [Controller, { read, play, cameraReady }] = useController();\n    setupSdk(read, play, cameraReady);\n    return Controller;\n};\n","import ReactDOM from 'react-dom';\nimport Root from './Root';\nimport React from 'react';\nimport { Play, Read } from './types';\nimport Modal from 'react-modal';\n\nlet initialized = false;\nlet read: Read;\nlet play: Play;\nlet cameraReady: boolean;\n\nconst bootstrap = (): void => {\n    const htmlBody = document.getElementsByTagName('body').item(0) as HTMLBodyElement;\n    const sdkDiv = document.createElement('div');\n    sdkDiv.id = 'kv_sdk_container';\n    htmlBody.appendChild(sdkDiv);\n    Modal.setAppElement('#kv_sdk_container');\n    ReactDOM.render(React.createElement(Root), sdkDiv);\n};\n\nexport const setupSdk = (r: Read, p: Play, status: boolean) => {\n    initialized = true;\n    read = r;\n    play = p;\n    cameraReady = status;\n};\n\nconst sdk = {\n    bootstrap,\n    getSdk: () => {\n        if (initialized) {\n            return {\n                read,\n                play,\n                cameraReady,\n            };\n        } else {\n            throw new Error('SDK is not initialized');\n        }\n    },\n};\n\nexport default sdk;\n"],"names":["BaseQRCode","size","data","ecl","React","QRCode","value","level","ReadStatus","PlayStatus","SupportedResult","styleBase","minWidth","height","background","borderColor","borderRadius","borderWidth","color","outline","margin","Button","props","onClick","children","style","ButtonGroup","width","marginTop","display","flexDirection","alignItems","justifyContent","DEFAULT_SPEED","DEFAULT_UR","UR","Buffer","from","useAnimatedQRCodePlayer","setData","useState","shouldShow","setShouldShow","refreshSpeed","setRefreshSpeed","hasNext","setHasNext","title","setTitle","description","setDescription","urEncoder","useMemo","UREncoder","qr","setQR","nextPart","ee","EventEmitter","reset","useEffect","cbor","toString","subscribe","interval","unsubscribe","finish","emit","element","fontSize","fontWeight","textAlign","play","options","Promise","resolve","once","success","URTypeError","Error","constructor","msg","Object","setPrototypeOf","prototype","LoadingSpinner","xmlns","shapeRendering","animationPlayState","animationDelay","viewBox","preserveAspectRatio","cx","cy","fill","stroke","strokeWidth","r","strokeDasharray","attributeName","type","repeatCount","dur","values","keyTimes","QrReader","lazy","URTypeErrorMessage","useAnimatedQRCodeReader","cameraReady","setCameraReady","expectTypes","setExpectTypes","urDecoder","setURDecoder","URDecoder","error","setError","progress","setProgress","processQRCode","errorMessgeOnURType","processUR","handleStop","status","handleRetry","ur","isComplete","receivePart","getProgress","result","resultUR","foundExpected","forEach","et","join","e","message","Suspense","fallback","position","top","left","transform","onScan","delay","onError","toFixed","read","expect","InitialPage","paddingLeft","padding","src","alt","marginLeft","listStyleType","marginBottom","walletMode","textDecoration","href","link","target","onButtonClick","customStyles","overlay","zIndex","content","right","bottom","marginRight","postion","useController","visible","setVisible","setWalltMode","setLink","mode","setMode","AnimatedQRCodePlayer","AnimatedQRCodeReader","close","goToRead","renderPannel","pageMode","Modal","isOpen","flex","canceled","renderInitial","Controller","setupSdk","initialized","bootstrap","htmlBody","document","getElementsByTagName","item","sdkDiv","createElement","id","appendChild","setAppElement","ReactDOM","render","Root","p","sdk","getSdk"],"mappings":"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"}