{"version":3,"file":"sdk.cjs.production.min.js","sources":["../src/components/BaseQRCode.tsx","../src/types.ts","../src/components/Button.tsx","../src/components/ButtonGroup.tsx","../src/hooks/useAnimatedQRCodePlayer.tsx","../src/error.ts","../src/components/LoadingSpinner.tsx","../src/hooks/useAnimatedQRCodeReader.tsx","../src/components/InitialPage.tsx","../src/hooks/useController.tsx","../src/Root.tsx","../src/service.ts"],"sourcesContent":["import React from 'react';\nimport QRCode from 'qrcode.react';\n\nexport const BaseQRCode = ({\n    size = 200,\n    data = '',\n    ecl = 'L',\n}: {\n    data: string;\n    size?: number;\n    ecl?: 'L' | 'M' | 'Q' | 'H';\n}) => {\n    return <QRCode value={data} size={size} level={ecl} />;\n};\n","import { UR } from '@ngraveio/bc-ur';\n\ntype DecodedSuccess = {\n    result: UR;\n    status: ReadStatus.success;\n};\n\ntype DecodedCanceled = {\n    status: ReadStatus.canceled;\n};\n\nexport type DecodedResult = DecodedSuccess | DecodedCanceled;\n\nexport enum ReadStatus {\n    canceled = 'canceled',\n    success = 'success',\n}\n\nexport enum PlayStatus {\n    canceled = 'canceled',\n    success = 'success',\n}\n\nexport type Play = (\n    data: UR,\n    options?: {\n        refreshSpeed?: number;\n        hasNext?: boolean;\n        title?: string;\n        description?: string;\n    },\n) => Promise<PlayStatus>;\n\nexport type Read = (\n    expect: SupportedResult[],\n    options?: {\n        title?: string;\n        description?: string;\n        renderInitial?: {\n            walletMode: string;\n            link: string;\n        };\n        URTypeErrorMessage?: string;\n    },\n) => Promise<DecodedResult>;\n\nexport enum SupportedResult {\n    UR_BYTES = 'bytes',\n    UR_CRYPTO_HDKEY = 'crypto-hdkey',\n    UR_ETH_SIGN_REQUEST = 'eth-sign-request',\n    UR_ETH_SIGNATURE = 'eth-signature',\n}\n","import React, { FunctionComponent } from 'react';\n\ntype Props = {\n    onClick: () => any;\n};\n\nconst styleBase = {\n    minWidth: '16rem',\n    height: '3rem',\n    background: '#784FFE',\n    borderColor: 'grey',\n    borderRadius: '8px',\n    borderWidth: 1,\n    color: 'white',\n    outline: 'none',\n    margin: 2,\n};\n\nexport const Button: FunctionComponent<Props> = (props) => {\n    const { onClick, children } = props;\n    return (\n        <button onClick={onClick} style={styleBase}>\n            {children}\n        </button>\n    );\n};\n","import React, { FunctionComponent } from 'react';\n\nexport const ButtonGroup: FunctionComponent = (props) => {\n    return (\n        <div\n            style={{\n                width: '100%',\n                marginTop: '1rem',\n                display: 'flex',\n                flexDirection: 'row-reverse',\n                alignItems: 'center',\n                justifyContent: 'center',\n            }}\n        >\n            {props.children}\n        </div>\n    );\n};\n","import React, { useEffect, useMemo, useState } from 'react';\nimport { interval } from 'rxjs';\nimport { BaseQRCode } from '../components/BaseQRCode';\nimport { Play, PlayStatus } from '../types';\nimport { EventEmitter } from 'events';\nimport { Button } from '../components/Button';\nimport { ButtonGroup } from '../components/ButtonGroup';\nimport { UR, UREncoder } from '@ngraveio/bc-ur';\n\nconst DEFAULT_SPEED = 100;\n\nconst DEFAULT_UR = new UR(Buffer.from('NO DATA', 'utf-8'));\n\nexport const useAnimatedQRCodePlayer = (): [JSX.Element, { play: Play }] => {\n    const [data, setData] = useState<UR>(DEFAULT_UR);\n    const [shouldShow, setShouldShow] = useState(false);\n\n    const [refreshSpeed, setRefreshSpeed] = useState(DEFAULT_SPEED);\n    const [hasNext, setHasNext] = useState(false);\n    const [title, setTitle] = useState<string | null>(null);\n    const [description, setDescription] = useState<string | null>(null);\n\n    const urEncoder = useMemo(() => new UREncoder(data), [data]);\n\n    const [qr, setQR] = useState<string>(urEncoder.nextPart());\n\n    const ee = useMemo(() => new EventEmitter(), []);\n    const reset = () => {\n        setData(DEFAULT_UR);\n        setShouldShow(false);\n        setRefreshSpeed(DEFAULT_SPEED);\n    };\n\n    useEffect(() => {\n        if (urEncoder.cbor.toString('hex') !== DEFAULT_UR.cbor.toString('hex')) {\n            setShouldShow(true);\n        }\n    }, [urEncoder]);\n\n    useEffect(() => {\n        const subscribe = interval(refreshSpeed).subscribe(() => {\n            setQR(urEncoder.nextPart());\n        });\n        return () => {\n            subscribe.unsubscribe();\n        };\n    }, [refreshSpeed, urEncoder]);\n\n    const finish = () => {\n        ee.emit('finish', true);\n    };\n\n    const element = shouldShow ? (\n        <div\n            style={{\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n            }}\n        >\n            {title && <p style={{ fontSize: '1.25rem', fontWeight: 'bold' }}>{title}</p>}\n            <BaseQRCode size={288} data={qr} />\n            {description && <p style={{ fontSize: '1rem', textAlign: 'center' }}>{description}</p>}\n            <ButtonGroup>\n                <Button onClick={finish}>{hasNext ? 'Scan Keystone' : 'Finish'}</Button>\n            </ButtonGroup>\n        </div>\n    ) : (\n        <div></div>\n    );\n\n    return [\n        element,\n        {\n            play: (data, options) => {\n                return new Promise((resolve) => {\n                    setData(data);\n                    if (options) {\n                        options.refreshSpeed && setRefreshSpeed(options.refreshSpeed);\n                        options.hasNext && setHasNext(options.hasNext);\n                        options.title && setTitle(options.title);\n                        options.description && setDescription(options.description);\n                    }\n                    ee.once('finish', () => {\n                        reset();\n                        resolve(PlayStatus.success);\n                    });\n                });\n            },\n        },\n    ];\n};\n","export class URTypeError extends Error {\n    constructor(msg: string) {\n        super(msg);\n\n        // Set the prototype explicitly.\n        Object.setPrototypeOf(this, URTypeError.prototype);\n    }\n}\n","import React from 'react';\n\nexport const LoadingSpinner = () => {\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            style={{\n                margin: 'auto',\n                display: 'block',\n                shapeRendering: 'auto',\n                animationPlayState: 'running',\n                animationDelay: '0s',\n            }}\n            width=\"200px\"\n            height=\"200px\"\n            viewBox=\"0 0 100 100\"\n            preserveAspectRatio=\"xMidYMid\"\n        >\n            <circle\n                cx=\"50\"\n                cy=\"50\"\n                fill=\"none\"\n                stroke=\"#9b9b9b\"\n                strokeWidth=\"7\"\n                r=\"35\"\n                strokeDasharray=\"164.93361431346415 56.97787143782138\"\n                style={{ animationPlayState: 'running', animationDelay: '0s' }}\n            >\n                <animateTransform\n                    attributeName=\"transform\"\n                    type=\"rotate\"\n                    repeatCount=\"indefinite\"\n                    dur=\"1s\"\n                    values=\"0 50 50;360 50 50\"\n                    keyTimes=\"0;1\"\n                    style={{ animationPlayState: 'running', animationDelay: '0s' }}\n                ></animateTransform>\n            </circle>\n        </svg>\n    );\n};\n","import React, { useMemo, useState, Suspense } from 'react';\nimport { EventEmitter } from 'events';\nimport { Button } from '../components/Button';\nimport { URTypeError } from '../error';\n\nimport { Read, SupportedResult } from '../types';\nimport { ButtonGroup } from '../components/ButtonGroup';\nimport { LoadingSpinner } from '../components/LoadingSpinner';\nimport { URDecoder } from '@ngraveio/bc-ur';\n\nconst QrReader = React.lazy(() => import('react-qr-reader'));\n\nexport interface URQRCodeData {\n    total: number;\n    index: number;\n    data: string;\n}\n\nlet URTypeErrorMessage: string = '';\n\nexport const useAnimatedQRCodeReader = (): [JSX.Element, { read: Read; cameraReady: boolean }] => {\n    const [cameraReady, setCameraReady] = useState<boolean>(false);\n    const [expectTypes, setExpectTypes] = useState<SupportedResult[]>([]);\n    const [urDecoder, setURDecoder] = useState(new URDecoder());\n    const [error, setError] = useState('');\n    const ee = useMemo(() => new EventEmitter(), []);\n    const [title, setTitle] = useState<string | null>(null);\n    const [progress, setProgress] = useState(0);\n    const [description, setDescription] = useState<string | null>(null);\n    const reset = () => {\n        setURDecoder(new URDecoder());\n        setError('');\n    };\n\n    const processQRCode = (qr: string, errorMessgeOnURType: string) => {\n        processUR(qr, errorMessgeOnURType);\n    };\n\n    const handleStop = () => {\n        ee.emit('read', {\n            status: 'canceled',\n        });\n    };\n\n    const handleRetry = () => {\n        reset();\n    };\n\n    const processUR = (ur: string, errorMessgeOnURType: string) => {\n        try {\n            if (!urDecoder.isComplete()) {\n                urDecoder.receivePart(ur);\n                setProgress(urDecoder.getProgress());\n            } else {\n                const result = urDecoder.resultUR();\n                let foundExpected = false;\n                expectTypes.forEach((et) => {\n                    if (et === result.type) {\n                        foundExpected = true;\n                        ee.emit('read', {\n                            result,\n                            status: 'success',\n                        });\n                        return;\n                    }\n                });\n                if (!foundExpected)\n                    throw new URTypeError(`received ur type ${result.type}, but expected [${expectTypes.join(',')}]`);\n            }\n        } catch (e) {\n            if (e instanceof URTypeError) {\n                setError(errorMessgeOnURType);\n            } else {\n                setError(e.message);\n            }\n        }\n    };\n\n    const element = (\n        <div\n            style={{\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n            }}\n        >\n            {title && <p style={{ fontSize: '1.25rem', fontWeight: 'bold' }}>{title}</p>}\n            {description && <p style={{ fontSize: '1rem', textAlign: 'center' }}>{description}</p>}\n            <Suspense fallback={<div />}>\n                <div style={{ position: 'relative', width: '100%' }}>\n                    {!cameraReady ? (\n                        <div\n                            style={{\n                                position: 'absolute',\n                                top: '50%',\n                                left: '50%',\n                                transform: 'translate(-50%, -50%)',\n                            }}\n                        >\n                            <LoadingSpinner />\n                        </div>\n                    ) : null}\n                    <QrReader\n                        onScan={(data: any) => {\n                            if (data) {\n                                setCameraReady(true);\n                                processQRCode(data, URTypeErrorMessage);\n                            }\n                        }}\n                        delay={100}\n                        style={{ width: '100%' }}\n                        onError={(e) => {\n                            setError(e.message);\n                        }}\n                    />\n                </div>\n            </Suspense>\n            <p>{(progress * 100).toFixed(0)} %</p>\n            {error && <p style={{ color: 'red', fontSize: '1rem' }}>{error}</p>}\n            <ButtonGroup>\n                <Button onClick={handleStop}>Close</Button>\n                {error && <Button onClick={handleRetry}>Retry</Button>}\n            </ButtonGroup>\n        </div>\n    );\n\n    return [\n        element,\n        {\n            read: (expect, options) => {\n                return new Promise((resolve) => {\n                    setExpectTypes(expect);\n                    if (options) {\n                        options.title && setTitle(options.title);\n                        options.description && setDescription(options.description);\n                        URTypeErrorMessage = options.URTypeErrorMessage ? options.URTypeErrorMessage : '';\n                    }\n                    ee.once('read', (result) => {\n                        reset();\n                        resolve(result);\n                    });\n                });\n            },\n            cameraReady,\n        },\n    ];\n};\n","import React from 'react';\nimport { Button } from './Button';\n\nexport const InitialPage = (props: { walletMode: string; link: string; onButtonClick: () => void }) => {\n    return (\n        <div style={{ paddingLeft: '1rem' }}>\n            <div style={{ display: 'flex', alignItems: 'center', padding: 0 }}>\n                <img\n                    style={{ display: 'inline-block' }}\n                    src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAoCAYAAACfKfiZAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAKAAAAACc9ikyAAAD+ElEQVRYCb1WbWiNURw/Z9caY5SyrKzVhuUtZcYoJdZ8kMywGClG+WK+eJsPmogNKfZBxBbmAyPyEgvtA8UUX9inbVeb8AGTd8t2j9/vdp91ntPzPPd57h3/+t1z/uf/ev7nnP9zhUiMsmH2BOgF9ifmIjmrVpgrDWuScxfMeqUW2EqiB2sjgrlJTDsNZmHACqyP2xJzGcyq2iU4E7kTzFVw7fEw+Qbou9bn94K7FCIlgNFh6I7y0E8oAQ9/NlEBuAig71ifv4VspM1iiJnHHsGZyPohjmdzxzeu79acsyFJm8UQMnzbfONmUIvnsRTG4g3DWAM8B24DM4GkaR88WMGcxkYtQr2h+wl8niYPPJ0Aix+AU2Cu8UlmASRe0gHA1L1JYaLUBEPToc7v1hx7XdISTc/3tAiaXs+uE3K2ZdJaQE/MnLdDzvvhm3ij2wDTkc4vj3lLx/gmji7tqmL6voYNcRze17zwv4CemNuc/xt8NSoqsau5OfoD2TSAxDb+EXDTNdeX0igeHYSCaajzfGoWZWDidU90O84XWIZuYw4EvwDT0OK527GG8VUPfcuO4wPAsVvqt/MolIYDbsSmxLPUiS+gEpgBOH1Z+7HOC90MMBFXYnn0jM35S8hDrtZJCFgBluZEHB/bIWenc6XVV1Qo/MCxCoM2ucUi0lwubX4YfBng1TKvQ1426MWY1NSolAs94jJKVoYaOh2DbqGw3ddQqutqkGcooEG5rmHM+8DvMNZs7KVuUaiUWOUjOO0k9HIjSpzOq1RRv0xgus2jnTkONhxbKsZ4A7gFlMbWRChddMLtZ4v3O0YiojZvq8rkEbwCrOai278Dkw98BxYBLYD+anaB58sREzerosiAaMExjCbvl0KpooAV6HIx2IN1Bk8FTgF6cLDiCLCTk86z8mlKSCzBbr6S90NSooumiXYm8MjBgG+3KbZehXGygw6XmAQrEU0C77TETxII3ofA6zrrZR+PIAvoBrhTEnvAPIBJZAIdQLzS8r8BkxGTNqq5AxLHocQY8iYxOIKuwCu4Sxkr8B7g5bLoIiYMTjoExAtOvTqASYiORtmmJCohxRfyBv3GeqkVnDJWgLQQaAV45iw3k5oKsAMySb9UDcVaKuduUYWiX1xDObPJI/AHDBXhBsnvwiBZCXChAuA/nWdkQLxg0bJGOf8/tDtG9fxNKqNfisX4ZKamC/Gw/Zzs9e9GiL1Q5n0ICn6A5gQJ5KY7C4Ig33s90WibdXOsr3ud7wsoshcwiaAUPfegRm76syHgBylINaIX0c1hout8FecB/i/Uy23OedvZP/4Z5cDzSeAnYAZnK54P/BcahygHAD5dNh12tilAIPoLD0OnpwCV000AAAAASUVORK5CYII=\"\n                    alt=\"\"\n                />\n                <div style={{ fontSize: '1.25rem', fontWeight: 'bold', marginLeft: '1rem' }}>Sync Keystone</div>\n            </div>\n            <ul style={{ marginTop: '2rem', listStyleType: 'none', padding: 0, fontSize: '1rem' }}>\n                <li style={{ marginBottom: '0.75rem' }}>1. Turn on your Keystone hardware device</li>\n                <li\n                    style={{ marginBottom: '0.75rem' }}\n                >{`2. Select your \"${props.walletMode}\" as your Watch-only wallet(Companion App)`}</li>\n                <li style={{ marginBottom: '0.75rem' }}>\n                    {' '}\n                    3. Press the \"Scan Keystone\" button and scan the QR Code displayed on your Keystone hardware wallet\n                </li>\n                <li style={{ marginBottom: '0.75rem' }}> 4. Select account and check your watch-only wallet</li>\n            </ul>\n            <div style={{ marginBottom: '1rem' }}>\n                <a\n                    style={{ marginTop: '1.25rem', color: '#784FFE', textDecoration: 'none' }}\n                    href={props.link}\n                    target=\"_blank\"\n                >\n                    Click here to view detailed tutorial\n                </a>\n            </div>\n            <Button onClick={props.onButtonClick}>Sync Keystone</Button>\n        </div>\n    );\n};\n","import React, { useMemo, useState } from 'react';\nimport Modal from 'react-modal';\nimport { EventEmitter } from 'events';\nimport { useAnimatedQRCodePlayer } from './useAnimatedQRCodePlayer';\nimport { useAnimatedQRCodeReader } from './useAnimatedQRCodeReader';\nimport { Play, PlayStatus, Read } from '../types';\nimport { InitialPage } from '../components/InitialPage';\n\nconst customStyles = {\n    overlay: {\n        zIndex: 999,\n    },\n    content: {\n        top: '50%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        borderRadius: '10px',\n        width: '37rem',\n        marginRight: '-50%',\n        transform: 'translate(-50%, -50%)',\n        postion: 'relative',\n    },\n};\n\nexport const useController = (): [\n    JSX.Element,\n    {\n        play: Play;\n        read: Read;\n        cameraReady: boolean;\n    },\n] => {\n    const ee = useMemo(() => new EventEmitter(), []);\n    const [visible, setVisible] = useState(false);\n    const [walletMode, setWalltMode] = useState('');\n    const [link, setLink] = useState('');\n    const [mode, setMode] = useState<'read' | 'play' | 'initial' | null>(null);\n    const [AnimatedQRCodePlayer, { play }] = useAnimatedQRCodePlayer();\n    const [AnimatedQRCodeReader, { read, cameraReady }] = useAnimatedQRCodeReader();\n    const close = () => {\n        ee.emit('close');\n        reset();\n    };\n\n    const reset = () => {\n        setMode(null);\n        setLink('');\n        setWalltMode('');\n        setVisible(false);\n    };\n\n    const goToRead = () => {\n        setMode('read');\n    };\n\n    const renderPannel = (pageMode: string) => {\n        if (pageMode === 'initial') {\n            return <InitialPage walletMode={walletMode} link={link} onButtonClick={goToRead} />;\n        } else if (pageMode === 'read') {\n            return AnimatedQRCodeReader;\n        } else if (pageMode === 'play') {\n            return AnimatedQRCodePlayer;\n        } else {\n            return null;\n        }\n    };\n\n    const element = (\n        <Modal isOpen={visible} style={customStyles}>\n            <div onClick={close}>\n                <img\n                    style={{ position: 'absolute', top: '1rem', right: '1rem' }}\n                    src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAADKADAAQAAAABAAAADAAAAAATDPpdAAAAmklEQVQoFZWRwQ3DIAwAa4brJPBP80hnaD/lD5N0iYxEfRVBxBGRwsvgO2PZklJaReTrvX/eTk7O+VVKuTtgDRYVPyOeHAysAFV40jCGEB69aHN/YSRZGK4JVuKu5/DrToDoqnI9tOh4vXJ2Qlc96kSY2lTfWs0m9DCT0r3MSkUrXR9r3eBCNbuDrY/td23z7Vg3wQhGIgcD+wPGY2fPvHuWagAAAABJRU5ErkJggg==\"\n                />\n            </div>\n            <div\n                style={{\n                    width: '35rem',\n                    padding: 18,\n                    flex: 1,\n                    flexDirection: 'column',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    color: '#002237',\n                }}\n            >\n                {renderPannel(mode)}\n            </div>\n        </Modal>\n    );\n    return [\n        element,\n        {\n            play: (data, options) => {\n                return new Promise<PlayStatus>(async (resolve) => {\n                    ee.once('close', () => {\n                        resolve(PlayStatus.canceled);\n                    });\n                    setVisible(true);\n                    setMode('play');\n                    await play(data, options);\n                    reset();\n                    resolve(PlayStatus.success);\n                });\n            },\n            read: async (expect, options) => {\n                if (options.renderInitial) {\n                    setWalltMode(options.renderInitial.walletMode);\n                    setLink(options.renderInitial.link);\n                    setMode('initial');\n                    setVisible(true);\n                    const result = await read(expect, options);\n                    reset();\n                    return result;\n                } else {\n                    setMode('read');\n                    setVisible(true);\n                    const result = await read(expect, options);\n                    reset();\n                    return result;\n                }\n            },\n            cameraReady,\n        },\n    ];\n};\n","import { setupSdk } from './service';\nimport { useController } from './hooks/useController';\n\nexport default () => {\n    const [Controller, { read, play, cameraReady }] = useController();\n    setupSdk(read, play, cameraReady);\n    return Controller;\n};\n","import ReactDOM from 'react-dom';\nimport Root from './Root';\nimport React from 'react';\nimport { Play, Read } from './types';\nimport Modal from 'react-modal';\n\nlet initialized = false;\nlet read: Read;\nlet play: Play;\nlet cameraReady: boolean;\n\nconst bootstrap = (): void => {\n    const htmlBody = document.getElementsByTagName('body').item(0) as HTMLBodyElement;\n    const sdkDiv = document.createElement('div');\n    sdkDiv.id = 'kv_sdk_container';\n    htmlBody.appendChild(sdkDiv);\n    Modal.setAppElement('#kv_sdk_container');\n    ReactDOM.render(React.createElement(Root), sdkDiv);\n};\n\nexport const setupSdk = (r: Read, p: Play, status: boolean) => {\n    initialized = true;\n    read = r;\n    play = p;\n    cameraReady = status;\n};\n\nconst sdk = {\n    bootstrap,\n    getSdk: () => {\n        if (initialized) {\n            return {\n                read,\n                play,\n                cameraReady,\n            };\n        } else {\n            throw new Error('SDK is not initialized');\n        }\n    },\n};\n\nexport default sdk;\n"],"names":["BaseQRCode","size","data","ecl","React","QRCode","value","level","ReadStatus","PlayStatus","SupportedResult","styleBase","minWidth","height","background","borderColor","borderRadius","borderWidth","color","outline","margin","Button","props","onClick","children","style","ButtonGroup","width","marginTop","display","flexDirection","alignItems","justifyContent","DEFAULT_UR","UR","Buffer","from","URTypeError","Error","constructor","msg","Object","setPrototypeOf","this","prototype","LoadingSpinner","xmlns","shapeRendering","animationPlayState","animationDelay","viewBox","preserveAspectRatio","cx","cy","fill","stroke","strokeWidth","r","strokeDasharray","attributeName","type","repeatCount","dur","values","keyTimes","QrReader","lazy","URTypeErrorMessage","InitialPage","paddingLeft","padding","src","alt","fontSize","fontWeight","marginLeft","listStyleType","marginBottom","walletMode","textDecoration","href","link","target","onButtonClick","customStyles","overlay","zIndex","content","top","left","right","bottom","marginRight","transform","postion","Controller","read","play","cameraReady","ee","useMemo","EventEmitter","visible","setVisible","useState","setWalltMode","setLink","mode","setMode","AnimatedQRCodePlayer","setData","shouldShow","setShouldShow","refreshSpeed","setRefreshSpeed","hasNext","setHasNext","title","setTitle","description","setDescription","urEncoder","UREncoder","qr","setQR","nextPart","useEffect","cbor","toString","subscribe","interval","unsubscribe","textAlign","emit","options","Promise","resolve","once","success","useAnimatedQRCodePlayer","AnimatedQRCodeReader","setCameraReady","expectTypes","setExpectTypes","urDecoder","setURDecoder","URDecoder","error","setError","progress","setProgress","reset","Suspense","fallback","position","onScan","ur","errorMessgeOnURType","isComplete","result","resultUR","foundExpected","forEach","et","status","join","receivePart","getProgress","e","message","processUR","delay","onError","toFixed","expect","useAnimatedQRCodeReader","pageMode","Modal","isOpen","flex","async","canceled","renderInitial","useController","setupSdk","initialized","p","bootstrap","htmlBody","document","getElementsByTagName","item","sdkDiv","createElement","id","appendChild","setAppElement","ReactDOM","render","Root","getSdk"],"mappings":"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"}